1. Придумать, как генерировать ссылки для шаблонов писем. Сделать просто константы? Сейчас ссылки генерируются на основе полей enum, в зависимости от типа запроса по почте.
2. Login - получение Access Tocken и Refresh Tocken (для разных устройств, выдаётся свой Access Tocken)
3. Logout - пометить revoked текущий Refresh Tocken. Отправить текущий Refresh Tocken.
3. Обновление Refresh Tocken.
4. Разлогиниться на всех устройствах (отзыв всех Refresh Tocken)
5. Разлогиниться на всех устройствах, кроме этого (отзыв всех Refresh Tocken, кроме этого). Отправить текущий Refresh Tocken.
6. Refresh Tocken удалять или делать их revoked?
7. Какой срок жизни установить для токенов? Access - 2 часа. Refresh - 2 месяца или бессрочный
8. Предусмотреть проверку последнего использования Access Tocken? Добавить соответствующее поле.
Например, при каждом запросе обновления токена проводить проверку всех Refresh Tocken. Если последний раз обращение было
более недели (2х?) назад, то помечать его revoked.